<%- include ('adminHeader') -%>
<table class="table table-hover" style="margin-top: 10px">
    <thead>
    <tr>
        <th id="1" role="button" scope="col">Blog Title</th>
        <th id="2" role="button" scope="col">Title 1</th>
        <th id="3" role="button" scope="col">Title 2</th>
        <th id="4" role="button" scope="col">Blog Info</th>
    </tr>
    </thead>
    <tbody id="tbody">
     <%blogs.forEach((item)=>{%>
         <tr id="<%=item._id%>">
         <td><%=item.textBlogTitle%></td>
         <td><%=item.title1%></td>
         <td><%=item.title2%></td>
         <td><%=item.infoBlog%></td>
         <td><a href ='/admin-editBlog?_id=<%=item._id%>' type="button" class="btn btn-info">Edit</a></td>
         <td><a onclick="deleteBrand(this)" value=<%=item._id%> type="button" class="btn btn-danger">Delete</a></td>`
         </tr>
     <%})%>
    </tbody>
</table>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="js/jquery.js"></script>
<script src="js/bootstrap/bootstrap.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script>

    function deleteBrand(button) {
        const _id = button.getAttribute('value');
        $.ajax({
            url: `/blog/${_id}`,
            method: 'delete',
            success: function (response) {
                document.getElementById(_id).remove();
            },
            error: function (data) {
                console.log('Product Delete failed :' + data);
            }

        });
    }


</script>
<%- include ('adminFooter') -%>
